import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = "AIzaSyBUsw39pasJsxEeU2jEE99ga3-4DLFPTw4"
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 40,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '{\n  "hotels": [\n    {\n      "hotelName": "The D Las Vegas",\n      "hotelAddress": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$100 per night",\n      "hotelImageUrl": "https://www.theDcasino.com/images/hero/main-hero-02.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1695,\n        "longitude": -115.1438\n      },\n      "rating": 3.8,\n      "description": "A centrally located hotel on Fremont Street offering affordable rooms and a vibrant atmosphere."\n    },\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$40-$80 per night",\n      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/21/2a/a0/circus-circus-hotel.jpg?w=1200&h=-1&s=1",\n      "geoCoordinates": {\n        "latitude": 36.1215,\n        "longitude": -115.1726\n      },\n      "rating": 3.5,\n      "description": "A classic Vegas hotel known for its affordable rates and family-friendly amenities, including a circus act."\n    },\n    {\n      "hotelName": "Main Street Station Casino, Brewery & Hotel",\n      "hotelAddress": "200 S. Main Street, Las Vegas, NV 89101",\n      "price": "$60-$120 per night",\n      "hotelImageUrl": "https://www.mainstreetstationcasino.com/wp-content/uploads/2023/06/MSS-Exterior-Hero-Image.jpg",\n      "geoCoordinates": {\n        "latitude": 36.1694,\n        "longitude": -115.1407\n      },\n      "rating": 4.0,\n      "description": "A historic hotel located in Downtown Las Vegas offering a blend of old-Vegas charm and modern amenities."\n    }\n  ],\n  "itinerary": {\n    "day1": [\n      {\n        "placeName": "Fremont Street Experience",\n        "placeDetails": "A pedestrian mall featuring a dazzling light show and street performers.",\n        "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Fremont_Street_Experience_at_night.jpg/1280px-Fremont_Street_Experience_at_night.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1699,\n          "longitude": -115.1416\n        },\n        "ticketPricing": "Free",\n        "rating": 4.5,\n        "time": "Evening (7 PM onwards)"\n      },\n      {\n        "placeName": "Downtown Container Park",\n        "placeDetails": "Unique shopping and dining experience in repurposed shipping containers.",\n        "placeImageUrl": "https://www.containerpark.com/wp-content/uploads/2022/10/DSC_7737-scaled.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1704,\n          "longitude": -115.1349\n        },\n        "ticketPricing": "Free entry",\n        "rating": 4.2,\n        "time": "Afternoon (2 PM - 5 PM)"\n      }\n    ],\n    "day2": [\n      {\n        "placeName": "The Strip (South)",\n        "placeDetails": "Walk the iconic Las Vegas Strip, admiring the hotels and casinos.  Focus on the south end to save on transportation costs.",\n        "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Las_Vegas_Strip_at_Night.jpg/1280px-Las_Vegas_Strip_at_Night.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1076,\n          "longitude": -115.1726\n        },\n        "ticketPricing": "Free (unless you enter casinos/attractions)",\n        "rating": 5.0,\n        "time": "Late Morning (10 AM - 6 PM)"\n      },\n      {\n        "placeName": "Bellagio Fountains",\n        "placeDetails": "Free water show with music and lights.",\n        "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Bellagio_Fountains_at_night.jpg/1280px-Bellagio_Fountains_at_night.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1117,\n          "longitude": -115.1731\n        },\n        "ticketPricing": "Free",\n        "rating": 4.8,\n        "time": "Evening (8 PM - 9 PM)"\n      }\n    ],\n    "day3": [\n      {\n        "placeName": "Seven Magic Mountains",\n        "placeDetails": "Colorful art installation south of Las Vegas (requires transportation). Consider ride-sharing for cost-effectiveness.",\n        "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/38/Seven_Magic_Mountains_2016.jpg/1280px-Seven_Magic_Mountains_2016.jpg",\n        "geoCoordinates": {\n          "latitude": 35.9711,\n          "longitude": -114.9828\n        },\n        "ticketPricing": "Free",\n        "rating": 4.6,\n        "time": "Morning (9 AM - 12 PM)"\n      },\n      {\n        "placeName": "Red Rock Canyon National Conservation Area",\n        "placeDetails": "Hiking and scenic views (may require a small entrance fee, check current prices).  Choose shorter, less strenuous trails.",\n        "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Red_Rock_Canyon_National_Conservation_Area_%281%29.jpg/1280px-Red_Rock_Canyon_National_Conservation_Area_%281%29.jpg",\n        "geoCoordinates": {\n          "latitude": 36.1989,\n          "longitude": -115.5255\n        },\n        "ticketPricing": "$15 per vehicle (check current prices)",\n        "rating": 4.7,\n        "time": "Afternoon (1 PM - 5 PM)"\n      }\n    ]\n  }\n}',
        },
      ],
    },
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotels": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$40-$80 per night (approx.)",\n      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/21/2a/a0/circus-circus-hotel.jpg?w=1200&h=-1&s=1",\n      "geoCoordinates": { "latitude": 36.1215, "longitude": -115.1726 },\n      "rating": 3.5,\n      "description": "A classic Vegas hotel known for its affordable rates and family-friendly amenities, including a free circus act.  Location is convenient for the Strip."\n    },\n    {\n      "hotelName": "The D Las Vegas",\n      "hotelAddress": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$100 per night (approx.)",\n      "hotelImageUrl": "https://www.theDcasino.com/images/hero/main-hero-02.jpg",\n      "geoCoordinates": { "latitude": 36.1695, "longitude": -115.1438 },\n      "rating": 3.8,\n      "description": "Centrally located in Downtown Las Vegas on Fremont Street, offering affordable rooms and a vibrant atmosphere.  Good for exploring Downtown."\n    },\n    {\n      "hotelName": "Golden Nugget Las Vegas",\n      "hotelAddress": "129 E Fremont St, Las Vegas, NV 89101",\n      "price": "$70-$150 per night (approx., varies greatly by season and availability)",\n      "hotelImageUrl": "https://www.goldennugget.com/las-vegas/wp-content/uploads/sites/2/2023/04/GNLV-Exterior-Hero-Image.jpg",\n      "geoCoordinates": { "latitude": 36.1697, "longitude": -115.1412 },\n      "rating": 4.0,\n      "description": "Historic hotel in Downtown with a more upscale feel than Circus Circus or The D, but still offering competitive rates compared to Strip hotels, especially during off-season."\n    }\n  ],\n  "itinerary": {\n    "day1": [\n      {\n        "placeName": "Fremont Street Experience",\n        "placeDetails": "Free light show and street performers in Downtown Las Vegas.",\n        "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Fremont_Street_Experience_at_night.jpg/1280px-Fremont_Street_Experience_at_night.jpg",\n        "geoCoordinates": { "latitude": 36.1699, "longitude": -115.1416 },\n        "ticketPricing": "Free",\n        "rating": 4.5,\n        "time": "Evening (7 PM - 10 PM)"\n      },\n      {\n        "placeName": "Downtown Container Park",\n        "placeDetails": "Unique shops and restaurants in repurposed shipping containers.",\n        "placeImageUrl": "https://www.containerpark.com/wp-content/uploads/2022/10/DSC_7737-scaled.jpg",\n        "geoCoordinates": { "latitude": 36.1704, "longitude": -115.1349 },\n        "ticketPricing": "Free entry",\n        "rating": 4.2,\n        "time": "Afternoon (2 PM - 5 PM)"\n      }\n    ],\n    "day2": [\n      {\n        "placeName": "Las Vegas Strip (South end walk)",\n        "placeDetails": "Walk the Strip, focusing on the south end to minimize transportation costs.  See the Bellagio, Paris, and other iconic hotels.",\n        "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Las_Vegas_Strip_at_Night.jpg/1280px-Las_Vegas_Strip_at_Night.jpg",\n        "geoCoordinates": { "latitude": 36.1076, "longitude": -115.1726 }, \n        "ticketPricing": "Free (unless entering attractions)",\n        "rating": 5.0,\n        "time": "Late Morning to Evening (10 AM - 8 PM)"\n      },\n      {\n        "placeName": "Bellagio Fountains",\n        "placeDetails": "Free water show with music and lights.",\n        "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Bellagio_Fountains_at_night.jpg/1280px-Bellagio_Fountains_at_night.jpg",\n        "geoCoordinates": { "latitude": 36.1117, "longitude": -115.1731 },\n        "ticketPricing": "Free",\n        "rating": 4.8,\n        "time": "Evening (8 PM - 9 PM)"\n      }\n    ],\n    "day3": [\n      {\n        "placeName": "Red Rock Canyon National Conservation Area (short hike)",\n        "placeDetails": "Scenic drives and short hiking trails.  Check the entrance fee beforehand.",\n        "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Red_Rock_Canyon_National_Conservation_Area_%281%29.jpg/1280px-Red_Rock_Canyon_National_Conservation_Area_%281%29.jpg",\n        "geoCoordinates": { "latitude": 36.1989, "longitude": -115.5255 },\n        "ticketPricing": "$15 per vehicle (approx., check current prices)",\n        "rating": 4.7,\n        "time": "Morning & Afternoon (9 AM - 4 PM)"\n      },\n      {\n        "placeName": "Free Activities: Pool time at your hotel, people-watching on the Strip (early evening)",\n        "placeDetails": "Relax and enjoy some free activities.",\n        "placeImageUrl": "Placeholder Image URL (find a relevant image)",\n        "geoCoordinates": null,\n        "ticketPricing": "Free",\n        "rating": 4,\n        "time": "Late Afternoon/Evening"\n      }\n    ]\n  }\n}\n```\n\n**Important Notes:**\n\n* **Prices are estimates:** Hotel and entrance fees can fluctuate.  Always check current prices before your trip.\n* **Transportation:**  Consider walking, using the free trams on the Strip (where available), or ride-sharing services to minimize transportation costs.  Public transportation is limited in Las Vegas.\n* **Food:**  Budget for inexpensive meals.  Many fast food options and affordable buffets exist. Consider packing some snacks and drinks to reduce costs.\n* **Free Activities:**  Las Vegas offers many free attractions beyond what\'s listed.  Explore the casinos, enjoy the fountains, and people-watch.\n* **Heat:** Las Vegas is extremely hot in the summer. Plan outdoor activities for cooler parts of the day.\n\n\nThis revised JSON provides a more realistic and budget-friendly Las Vegas itinerary for a couple.  Remember to always double-check prices and availability before your trip.\n',
        },
      ],
    },
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget, Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visit in JSON format\n",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotels": [\n    {\n      "hotelName": "Circus Circus Hotel & Casino",\n      "hotelAddress": "2880 S Las Vegas Blvd, Las Vegas, NV 89109",\n      "price": "$40-$80 (approx.)",\n      "hotelImageUrl": "https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1a/21/2a/a0/circus-circus-hotel.jpg?w=1200&h=-1&s=1",\n      "geoCoordinates": { "latitude": 36.1215, "longitude": -115.1726 },\n      "rating": 3.5,\n      "description": "Budget-friendly option on the Strip, known for its circus acts and affordable rooms.  May be a bit dated but location is excellent."\n    },\n    {\n      "hotelName": "Hostel Cat Las Vegas",\n      "hotelAddress": "1700 E. Tropicana Ave. Las Vegas, NV 89119",\n      "price": "$30-$60 (approx. per person, private rooms available)",\n      "hotelImageUrl": "https://images.trvl-media.com/hotels/4000000/3890000/3889300/3889291/6245f94a.jpg?impolicy=fcrop&w=1000&h=600&q=medium",\n      "geoCoordinates": { "latitude": 36.0978, "longitude": -115.1386 },\n      "rating": 4.0,\n      "description": "Hostel option - more affordable, but shared bathrooms are typical. Private rooms are usually available at a higher cost than dorm rooms.  Good for budget travelers."\n    },\n     {\n      "hotelName": "The D Las Vegas",\n      "hotelAddress": "301 Fremont Street, Las Vegas, NV 89101",\n      "price": "$50-$100 (approx.)",\n      "hotelImageUrl": "https://www.theDcasino.com/images/hero/main-hero-02.jpg",\n      "geoCoordinates": { "latitude": 36.1695, "longitude": -115.1438 },\n      "rating": 3.8,\n      "description": "Downtown location on Fremont Street, offering a lively atmosphere and reasonable rates.  Good for exploring Downtown Las Vegas."\n    }\n  ],\n  "itinerary": {\n    "day1": {\n      "theme": "Downtown Exploration",\n      "activities": [\n        {\n          "placeName": "Fremont Street Experience",\n          "placeDetails": "Free light shows and street performers.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/Fremont_Street_Experience_at_night.jpg/1280px-Fremont_Street_Experience_at_night.jpg",\n          "geoCoordinates": { "latitude": 36.1699, "longitude": -115.1416 },\n          "ticketPricing": "Free",\n          "rating": 4.5,\n          "time": "Evening (7 PM onwards)"\n        },\n        {\n          "placeName": "Container Park",\n          "placeDetails": "Unique shops and restaurants in shipping containers.",\n          "placeImageUrl": "https://www.containerpark.com/wp-content/uploads/2022/10/DSC_7737-scaled.jpg",\n          "geoCoordinates": { "latitude": 36.1704, "longitude": -115.1349 },\n          "ticketPricing": "Free entry",\n          "rating": 4.2,\n          "time": "Afternoon (2 PM - 5 PM)"\n        }\n      ]\n    },\n    "day2": {\n      "theme": "The Strip Highlights (Budget-Friendly)",\n      "activities": [\n        {\n          "placeName": "South Strip Walk",\n          "placeDetails": "Walk south from New York-New York to see Bellagio, Paris, and other hotels.  Focus on free activities.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Las_Vegas_Strip_at_Night.jpg/1280px-Las_Vegas_Strip_at_Night.jpg",\n          "geoCoordinates": { "latitude": 36.1076, "longitude": -115.1726 },\n          "ticketPricing": "Free (unless entering attractions)",\n          "rating": 5.0,\n          "time": "Late Morning to Evening (10 AM - 8 PM)"\n        },\n        {\n          "placeName": "Bellagio Fountains",\n          "placeDetails": "Free water show.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/4/41/Bellagio_Fountains_at_night.jpg/1280px-Bellagio_Fountains_at_night.jpg",\n          "geoCoordinates": { "latitude": 36.1117, "longitude": -115.1731 },\n          "ticketPricing": "Free",\n          "rating": 4.8,\n          "time": "Evening (8 PM - 9 PM)"\n        }\n      ]\n    },\n    "day3": {\n      "theme": "Nature & Relaxation",\n      "activities": [\n        {\n          "placeName": "Red Rock Canyon National Conservation Area (short hike)",\n          "placeDetails": "Short, easy hikes. Check for entrance fees.",\n          "placeImageUrl": "https://upload.wikimedia.org/wikipedia/commons/thumb/3/35/Red_Rock_Canyon_National_Conservation_Area_%281%29.jpg/1280px-Red_Rock_Canyon_National_Conservation_Area_%281%29.jpg",\n          "geoCoordinates": { "latitude": 36.1989, "longitude": -115.5255 },\n          "ticketPricing": "$15 per vehicle (approx., check current prices)",\n          "rating": 4.7,\n          "time": "Morning (9 AM - 1 PM)"\n        },\n        {\n          "placeName": "Relaxation/Hotel Pool",\n          "placeDetails": "Relax at your hotel pool or explore free areas.",\n          "placeImageUrl": "Placeholder Image URL (find a relevant image)",\n          "geoCoordinates": null,\n          "ticketPricing": "Free",\n          "rating": 4,\n          "time": "Afternoon/Evening"\n        }\n      ]\n    }\n  }\n}\n```\n\nRemember to check prices and opening times before your visit.  This itinerary prioritizes free or low-cost activities and budget-friendly accommodation.  Transportation costs are not included and should be considered in your budget.  Using ride-sharing apps or walking where possible can keep costs down.\n',
        },
      ],
    },
  ],
});
